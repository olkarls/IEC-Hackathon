<div class="container-fluid" data-ng-controller="uploadFileController">
    <div class="row">
        <div class="col-sm-4 col-sm-offset-4">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h1>Waste!</h1>
                </div>
                <div class="panel-body">
                    <div flow-init="{singleFile:true}" flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]">
                        <div class="col-xs-12">
                            <span class="btn" data-ng-show="!$flow.files.length" flow-btn><img class="img-responsive" src="http://www.placehold.it/200x150/EFEFEF/AAAAAA&amp;text=Choose+image"><input type="file" style="visibility: hidden; position: absolute;"></span>
                            <span class="btn" data-ng-show="$flow.files.length" flow-btn><img class="img-responsive" flow-img="$flow.files[0]"><input id="file" name="file" type="file" style="visibility: hidden; position: absolute;"></span>
                        </div>
                        <div class="col-xs-12" data-ng-show="$flow.files.length && !responseData">
                            <input class="btn btn-success btn-lg btn-block" type="button" data-ng-click="upload($flow.files[0])" value="Sort me!"/>
                        </div>
                        <div class="col-xs-12" data-ng-show="responseData">
                            <div data-ng-show="showDiv('confirmThing')">
                                <span>
                                    We believe this is a {{responseData.PossibleThings[0].Name}}. Is that correct?
                                </span>
                                <div class="btn-group btn-group-justified" role="group" aria-label="...">
                                    <div class="btn-group" role="group">
                                        <button type="button" data-ng-click="correctThing(true, responseData.PossibleThings[0].Name)" class="btn btn-primary">Yes</button>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button type="button" data-ng-click="correctThing(false)" class="btn btn-primary">No</button>
                                    </div>
                                </div>
                            </div>
                            <div data-ng-show="showDiv('chooseMaterial')">
                                <span>
                                    Which material is it?
                                </span>
                                <div data-ng-repeat="material in responseData.AllMaterials">
                                    <input class="btn btn-success btn-lg btn-block" type="button" data-ng-click="createNewThing(choosenAlternativeThing, material)" value="{{material.Name}}"/>
                                </div>
                            </div>
                            <div data-ng-show="showDiv('chooseAlternativeThing')">
                                <span>
                                    Okey, then what is it?
                                </span>
                                <div data-ng-repeat="thing in responseData.PossibleThings">
                                    <input class="btn btn-success btn-lg btn-block" type="button" data-ng-click="chooseThing(thing.Name)" value="{{thing.Name}}"/>
                                </div>
                                <div class="form-group">
                                    <label>Own choice:</label>
                                    <input class="form-control" type="text" data-ng-model="ownThingName"/>
                                    <input data-ng-disabled="!ownThingName" class="btn btn-success btn-lg btn-block" type="text" data-ng-click="chooseThing(ownThingName)" value="{{ownThingName}}"/>
                                </div>
                            </div>
                            <div data-ng-show="showDiv('weThinkWeKnow')">
                                <span>
                                    We think its a {{responseData.DbThings[0].TagName}} made of {{responseData.DbThings[0].Material.Name}} and it should be sorted as {{responseData.DbThings[0].Material.Container.Name}}.
                                </span>
                                <div data-ng-show="responseData.DbThings[0].Material.Container.Type === 1">
                                    <span>
                                        {{responseData.DbThings[0].Material.Container.Name}} can be found at a manned recycling station. See map below.
                                    </span>
                                    <img class="img-responsive" src="http://www.vaxjo.se/ImageVaultFiles/id_15766/cf_82/st_edited/kSLU1PS-OCD00FOOYSmH.jpg"/>
                                </div>
                                <a href="" data-ng-click="setActiveUserStep('confirmThing')">This is wrong</a>
                            </div>
                            <div data-ng-show="showDiv('weKnow')">
                                <span>
                                    Its a {{choosenAlternativeThing}} made of {{choosenMaterial.Name}} and it should be sorted as {{choosenMaterial.Container.Name}}.
                                </span>
                                <div data-ng-show="choosenMaterial.Container.Type === 1">
                                    <span>
                                        {{choosenMaterial.Container.Name}} can be found at a manned recycling station. See map below.
                                    </span>
                                    <img class="img-responsive" src="http://www.vaxjo.se/ImageVaultFiles/id_15766/cf_82/st_edited/kSLU1PS-OCD00FOOYSmH.jpg"/>
                                </div>
                                <div data-ng-show="choosenMaterial.Container.Type === 0">
                                    <span>
                                        {{choosenMaterial.Container.Name}} can be found at an unmanned recycling station.
                                    </span>
                                    <a href="http://www.ftiab.se/173.html" target="_blank">Find closest to you.</a>
                                </div>
                            </div>
                            <div data-ng-show="showDiv('moreThanOneDbThing')">
                                <span>
                                    We believe its a {{responseData.DbThings[0].TagName}} made of {{responseData.DbThings[0].Material.Name}}. Is that correct?
                                </span>
                                <div class="btn-group btn-group-justified" role="group" aria-label="...">
                                    <div class="btn-group" role="group">
                                        <button type="button" data-ng-click="correctThingAndMaterial(true, responseData.DbThings[0].TagName, responseData.DbThings[0].Material)" class="btn btn-primary">Yes</button>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button type="button" data-ng-click="correctThingAndMaterial(false)" class="btn btn-primary">No</button>
                                    </div>
                                </div>
                            </div>
                            <div data-ng-show="showDiv('chooseAlternativeMaterial')">
                                <span>
                                    Okey, is it something of this?
                                </span>
                                <div data-ng-repeat="thing in responseData.DbThings">
                                    <input class="btn btn-success btn-lg btn-block" type="button" data-ng-click="correctThingAndMaterial(true, thing.TagName, thing.Material)" value="{{thing.Material.Name}}"/>
                                </div>
                                <input class="btn btn-primary btn-lg btn-block" type="button" data-ng-click="correctThing(false)" value="No" />
                            </div>
                        </div>
                    </div>
                    {{activeUserStep}}
                </div>
            </div>
        </div>
    </div>
</div>